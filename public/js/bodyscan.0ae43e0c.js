"use strict";(self["webpackChunkbenefit"]=self["webpackChunkbenefit"]||[]).push([[5448],{73858:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var a=n(20641);const r={ref:"video",width:"640",height:"480",autoplay:""},o=["disabled"],s={key:0},i={key:1},l={key:2},u={alt:"Body Scan Image"};function c(e,t,n,c,d,v){const f=(0,a.gN)("lazy");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("video",r,null,512),(0,a.Lk)("canvas",{ref:"canvas",width:"640",height:"480",onClick:t[0]||(t[0]=(...e)=>c.handleCanvasClick&&c.handleCanvasClick(...e))},null,512),(0,a.Lk)("div",null,[(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>c.capturePose("front"))},"Capture Front"),(0,a.Lk)("button",{onClick:t[2]||(t[2]=e=>c.capturePose("side"))},"Capture Side"),(0,a.Lk)("button",{onClick:t[3]||(t[3]=e=>c.capturePose("back"))},"Capture Back")]),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>c.processAllPoses&&c.processAllPoses(...e)),disabled:!c.allPosesCaptured},"Process All Poses",8,o),e.isCalibrating?((0,a.uX)(),(0,a.CE)("div",i,t[6]||(t[6]=[(0,a.Lk)("p",null,"Click two points to measure your credit card width.",-1)]))):((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>c.startCalibration&&c.startCalibration(...e))},"Calibrate")])),c.scanFileKey?((0,a.uX)(),(0,a.CE)("div",l,[(0,a.bo)((0,a.Lk)("img",u,null,512),[[f,`/path/to/body-scans/${c.scanFileKey}`]])])):(0,a.Q3)("",!0)])}n(14603),n(47566),n(98721);var d=n(50953),v={components:{},setup(){const e=(0,d.KR)(null),t=(0,d.KR)(null),r=(0,d.Kh)({front:null,side:null,back:null}),o=(0,d.KR)(null),s=(0,a.EW)((()=>r.front&&r.side&&r.back)),i=n=>{const a=t.value.getContext("2d");a.drawImage(e.value,0,0,t.value.width,t.value.height),r[n]=t.value.toDataURL()},l=async()=>{if(s.value)try{const e=await u();console.log("Body measurements:",e),o.value="users/1234/body_scan.png"}catch(e){console.error("Error processing poses:",e)}},u=()=>new Promise(((e,t)=>{const a=new Worker(new URL(n.p+n.u(6855),n.b));a.onmessage=t=>e(t.data),a.onerror=e=>t(e);const o={front:r.front,side:r.side,back:r.back};a.postMessage(o)})),c=e=>{o.value=e},v=()=>{},f=e=>{const{offsetX:t,offsetY:n}=e};return{video:e,canvas:t,poses:r,allPosesCaptured:s,capturePose:i,processAllPoses:l,startCalibration:v,handleCanvasClick:f,scanFileKey:o,handleFileUploaded:c}}},f=n(66262);const h=(0,f.A)(v,[["render",c]]);var p=h},36955:function(e,t,n){var a=n(92140),r=n(94901),o=n(22195),s=n(78227),i=s("toStringTag"),l=Object,u="Arguments"===o(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=a?o:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=l(e),i))?n:u?o(t):"Object"===(a=o(t))&&r(t.callee)?"Arguments":a}},62106:function(e,t,n){var a=n(50283),r=n(24913);e.exports=function(e,t,n){return n.get&&a(n.get,t,{getter:!0}),n.set&&a(n.set,t,{setter:!0}),r.f(e,t,n)}},92140:function(e,t,n){var a=n(78227),r=a("toStringTag"),o={};o[r]="z",e.exports="[object z]"===String(o)},655:function(e,t,n){var a=n(36955),r=String;e.exports=function(e){if("Symbol"===a(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},22812:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},14603:function(e,t,n){var a=n(36840),r=n(79504),o=n(655),s=n(22812),i=URLSearchParams,l=i.prototype,u=r(l.append),c=r(l["delete"]),d=r(l.forEach),v=r([].push),f=new i("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&a(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var a=[];d(this,(function(e,t){v(a,{key:t,value:e})})),s(t,1);var r,i=o(e),l=o(n),f=0,h=0,p=!1,k=a.length;while(f<k)r=a[f++],p||r.key===i?(p=!0,c(this,r.key)):h++;while(h<k)r=a[h++],r.key===i&&r.value===l||u(this,r.key,r.value)}),{enumerable:!0,unsafe:!0})},47566:function(e,t,n){var a=n(36840),r=n(79504),o=n(655),s=n(22812),i=URLSearchParams,l=i.prototype,u=r(l.getAll),c=r(l.has),d=new i("a=1");!d.has("a",2)&&d.has("a",void 0)||a(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var a=u(this,e);s(t,1);var r=o(n),i=0;while(i<a.length)if(a[i++]===r)return!0;return!1}),{enumerable:!0,unsafe:!0})},98721:function(e,t,n){var a=n(43724),r=n(79504),o=n(62106),s=URLSearchParams.prototype,i=r(s.forEach);a&&!("size"in s)&&o(s,"size",{get:function(){var e=0;return i(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=bodyscan.0ae43e0c.js.map