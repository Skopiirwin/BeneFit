"use strict";(self["webpackChunkbenefit"]=self["webpackChunkbenefit"]||[]).push([[7933],{48365:function(e,s,o){o.r(s),o.d(s,{default:function(){return L}});var a=o(20641),t=o(90033),r=o(53751);const i={class:"auth-form container mx-auto max-w-md p-6 bg-white shadow-md rounded-lg"},n={class:"text-2xl font-bold mb-6"},d={class:"mb-4"},l={class:"mb-4"},u={key:0,class:"mb-4"},c=["disabled"],m={class:"mt-4 text-center text-sm text-gray-600"},g={key:0,class:"mt-4 text-center text-sm text-red-600"};function f(e,s,o,f,b,p){const h=(0,a.g2)("Field"),w=(0,a.g2)("ErrorMessage"),v=(0,a.g2)("Form");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("h2",n,(0,t.v_)(f.isLogin?"Login":"Register"),1),(0,a.bF)(v,{onSubmit:f.handleSubmit,"validation-schema":f.schema},{default:(0,a.k6)((()=>[(0,a.Lk)("div",d,[s[1]||(s[1]=(0,a.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email:",-1)),(0,a.bF)(h,{name:"email",type:"email",id:"email",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),(0,a.bF)(w,{name:"email",class:"text-red-500 text-xs mt-1"})]),(0,a.Lk)("div",l,[s[2]||(s[2]=(0,a.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password:",-1)),(0,a.bF)(h,{name:"password",type:"password",id:"password",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),(0,a.bF)(w,{name:"password",class:"text-red-500 text-xs mt-1"})]),f.isLogin?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",u,[s[3]||(s[3]=(0,a.Lk)("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"},"Confirm Password:",-1)),(0,a.bF)(h,{name:"password_confirmation",type:"password",id:"password_confirmation",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"}),(0,a.bF)(w,{name:"password_confirmation",class:"text-red-500 text-xs mt-1"})])),(0,a.Lk)("button",{type:"submit",disabled:f.isSubmitting,class:"w-full px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50"},(0,t.v_)(f.isLogin?"Login":"Register"),9,c)])),_:1},8,["onSubmit","validation-schema"]),(0,a.Lk)("p",m,[(0,a.eW)((0,t.v_)(f.isLogin?"Don't have an account?":"Already have an account?")+" ",1),(0,a.Lk)("a",{href:"#",onClick:s[0]||(s[0]=(0,r.D$)(((...e)=>f.toggleAuthMode&&f.toggleAuthMode(...e)),["prevent"])),class:"font-medium text-indigo-600 hover:text-indigo-500"},(0,t.v_)(f.isLogin?"Register":"Login"),1)]),f.errorMsg?((0,a.uX)(),(0,a.CE)("p",g,(0,t.v_)(f.errorMsg),1)):(0,a.Q3)("",!0)])}o(44114);var b=o(50953),p=o(40834),h=o(75220),w=o(15261),v=o(12664),x={components:{Form:w.lV,Field:w.D0,ErrorMessage:w.Kw},setup(){const e=(0,p.Pj)(),s=(0,h.rd)(),o=(0,b.KR)(!0),t=(0,b.KR)(!1),r=(0,b.KR)(""),i=(0,a.EW)((()=>{const e={email:v.Yj().required("Email is required").email("Invalid email format"),password:v.Yj().required("Password is required").min(6,"Password must be at least 6 characters")};return o.value||(e.password_confirmation=v.Yj().required("Password confirmation is required").oneOf([v.KR("password"),null],"Passwords must match")),v.Ik().shape(e)})),n=async a=>{t.value=!0,r.value="";try{o.value?await e.dispatch("auth/login",a):await e.dispatch("auth/register",a),s.push("/dashboard")}catch(i){console.error(o.value?"Login failed:":"Registration failed:",i),r.value=i.response?.data?.message||"An error occurred. Please try again."}finally{t.value=!1}},d=()=>{o.value=!o.value,r.value=""};return{isLogin:o,schema:i,handleSubmit:n,toggleAuthMode:d,isSubmitting:t,errorMsg:r}}},k=o(66262);const y=(0,k.A)(x,[["render",f]]);var L=y}}]);
//# sourceMappingURL=auth.2599bf18.js.map